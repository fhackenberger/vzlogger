/**
 * vzlogger configuration
 *
 * Use properly encoded JSON with javascript comments
 *
 * Take a look at the wiki for detailed information:
 * http://wiki.volkszaehler.org/software/controller/vzlogger#configuration
 *
 * For an online configuration editor refer to:
 * http://volkszaehler.github.io/vzlogger/
 */

{
    // General settings
    "verbosity": 10,         // log verbosity (0=log_alert, 1=log_error, 3=log_warning, 5=log_info, 10=log_debug, 15=log_finest)
//    "log": "/var/log/vzlogger.log", // log file, optional
    "retry": 30,            // http retry delay in seconds

    // mqtt client support (if ENABLE_MQTT set at cmake generation)
    "mqtt": {
        "enabled": true,  // enable mqtt client. needs host and port as well
        "host": "192.168.8.20", // mqtt server addr
        "port": 1883, // 1883 for unencrypted, 8883 enc, 8884 enc cert needed,
        "cafile": "", // optional file with server CA
        "capath": "", // optional path for server CAs. see mosquitto.conf. Specify only cafile or capath
        "certfile": "", // optional file for your client certificate (e.g. client.crt)
        "keyfile": "", // optional path for your client certficate private key (e.g. client.key)
        "keypass": "", // optional password for your private key
        "keepalive": 30, // optional keepalive in seconds.
        "topic": "vzlogger/data", // optional topic dont use $ at start and no / at end
        "id": "", // optional static id, if not set "vzlogger_<pid>" will be used
        "user": "mqttvolkszaehler", // optional user name for the mqtt server
        "pass": "UmahviiM1r", // optional password for the mqtt server
        "retain": false, // optional use retain message flag
        "rawAndAgg": true, // optional publish raw values even if agg mode is used
        "qos": 0, // optional quality of service, default is 0
        "timestamp": false // optional whether to include a timestamp in the payload
    },


    // Meter configuration
    "meters": [
        {
            // Logarex LK13-BE 001LOG0065165335 Main house smart meter
            "enabled": true,               // disabled meters will be ignored (default)
            "allowskip": false,                  // errors when opening meter may be ignored if enabled
            "protocol": "d0",               // meter protocol, see 'vzlogger -h' for full list
            "device": "/dev/weidm-ir-mainh",       // meter device (relies on custom udev rule on /etc/udev/rules.d)
//            "device": "/dev/null",       // meter device
//            "dump_file": "/var/log/d0.txt", // detailed log file for all received/transmitted data (optional)

            "parity": "8N1",                // Serial parity, 7E1 or 8N1
            "baudrate": 9600,               // Serial baud rate, typically 9600 or 300

//          "read_timeout": 10,             // optional read timeout, default 10s. Data reading is considered finished if no state change after that timeout
//          "aggtime": 20,                  // aggregate meter readings and send middleware update after <aggtime> seconds
            "interval": 0,                  // Wartezeit in Sekunden bis neue Werte in die middleware übertragen werden


// ATTENTION: Re-ordering breaks the home assistant sensor configuration! Append only!!!
            "channels": [{
                // The kWh counter
                "uuid": "559e6af6-836d-4b60-b8cd-ff45dbdc4c40",
                "identifier": "1-0:1.8.0",  // OBIS identifier
//              "aggmode": "MAX"            // aggregation mode: aggregate meter readings during <aggtime> interval
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The kWh counter for feeding back to the network
                "uuid": "d57bae60-d7d2-4173-bc47-cb4c82d1d612",
                "identifier": "1-0:2.8.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The current usage in W
                "uuid": "f2b7f72e-b6ec-42b9-81d3-61363a99a141",
                "identifier": "1-0:16.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The voltage on phase 1
                "uuid": "6f53c448-b1c7-4bbb-a6e0-a7f252a76acc",
                "identifier": "1-0:32.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The voltage on phase 2
                "uuid": "0012afd0-e4f6-4e8e-bf52-5abe65cf728f",
                "identifier": "1-0:52.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The voltage on phase 3
                "uuid": "cde29162-3d31-4057-8004-ab76a2db5a9c",
                "identifier": "1-0:72.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The amps on phase 1
                "uuid": "98ad74dd-84ec-46ed-b8f6-0b1dd0982c8b",
                "identifier": "1-0:31.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The amps on phase 2
                "uuid": "ab5c58cf-623d-45ec-9b98-d37ca43f2ec1",
                "identifier": "1-0:51.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The amps on phase 3
                "uuid": "d977601c-50f1-4b50-a0eb-ac9997db4791",
                "identifier": "1-0:71.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The frequency of the net in Hz
                "uuid": "70adb8f3-6fb7-4d1d-a076-d784949711f5",
                "identifier": "1-0:14.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The usage of the last day
                "uuid": "850396d1-2fab-420a-a409-2edbf8c6414f",
                "identifier": "1-0:1.8.0*96",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The usage of the last week
                "uuid": "c83de36d-c8f8-45f4-8c89-7e8bdf97b8d2",
                "identifier": "1-0:1.8.0*97",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The usage of the last month (30d)
                "uuid": "011bf1ae-6b8a-42c0-a76b-a0531f945c65",
                "identifier": "1-0:1.8.0*98",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The usage of the last year (365d)
                "uuid": "31302075-1e94-427c-bcbd-7c9f581cc05f",
                "identifier": "1-0:1.8.0*99",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The usage since last reset
                "uuid": "eb96649e-7225-4397-b4f0-a835ebffd6b8",
                "identifier": "1-0:1.8.0*100",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
//            },{
//                // The Serial number (doesn't work as raw values seem to be numbers only...
//                "uuid": "4d9064a0-3f6d-4433-89ad-b8427e0101dd",
//                "identifier": "1-0:96.1.0",  // OBIS identifier
//                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            }]
        },
        {
            // Logarex LK13-BE 001LOG0065165334 Bungalows smart meter
            "enabled": true,               // disabled meters will be ignored (default)
            "allowskip": false,                  // errors when opening meter may be ignored if enabled
            "protocol": "d0",               // meter protocol, see 'vzlogger -h' for full list
            "device": "/dev/weidm-ir-bunga",       // meter device (relies on custom udev rule on /etc/udev/rules.d)
//            "device": "/dev/null",       // meter device
//            "dump_file": "/var/log/d0.txt", // detailed log file for all received/transmitted data (optional)

            "parity": "8N1",                // Serial parity, 7E1 or 8N1
            "baudrate": 9600,               // Serial baud rate, typically 9600 or 300

//          "read_timeout": 10,             // optional read timeout, default 10s. Data reading is considered finished if no state change after that timeout
//          "aggtime": 20,                  // aggregate meter readings and send middleware update after <aggtime> seconds
            "interval": 0,                  // Wartezeit in Sekunden bis neue Werte in die middleware übertragen werden


// ATTENTION: Re-ordering breaks the home assistant sensor configuration! Append only!!!
            "channels": [{
                // The kWh counter
                "uuid": "99d0c62e-55c3-40a8-9bd7-5435ae4ac007",
                "identifier": "1-0:1.8.0",  // OBIS identifier
//              "aggmode": "MAX"            // aggregation mode: aggregate meter readings during <aggtime> interval
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The kWh counter for feeding back to the network
                "uuid": "8fde7659-a59b-435b-8aa5-d60c7759c891",
                "identifier": "1-0:2.8.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The current usage in W
                "uuid": "ac1abced-f6aa-41cb-acd8-0453d8e7b88b",
                "identifier": "1-0:16.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The voltage on phase 1
                "uuid": "dffdd3ba-f154-4c05-9737-8679d2ddf7c1",
                "identifier": "1-0:32.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The voltage on phase 2
                "uuid": "32ca5599-25ba-45c4-befe-dd6bd23a3217",
                "identifier": "1-0:52.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The voltage on phase 3
                "uuid": "f38a86ba-94c6-4e22-beb9-19490315bcf5",
                "identifier": "1-0:72.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The amps on phase 1
                "uuid": "5dce28c0-7304-4a05-a67f-35156c1b21b1",
                "identifier": "1-0:31.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The amps on phase 2
                "uuid": "9ca90a0c-c42b-4b0d-a3fa-14108da3d094",
                "identifier": "1-0:51.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The amps on phase 3
                "uuid": "1bb62cbf-eb6e-406d-a9e1-9d7abac14dcb",
                "identifier": "1-0:71.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The frequency of the net in Hz
                "uuid": "5d1bdfee-6b5b-48ed-8925-f56604820117",
                "identifier": "1-0:14.7.0",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The usage of the last day
                "uuid": "44e608e7-8472-4a58-aadf-495c9838e077",
                "identifier": "1-0:1.8.0*96",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The usage of the last week
                "uuid": "d79de0a9-3054-4680-85ba-f33323f06bf4",
                "identifier": "1-0:1.8.0*97",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The usage of the last month (30d)
                "uuid": "b3d68f41-6ff2-48b8-acff-9e67df3b80b0",
                "identifier": "1-0:1.8.0*98",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The usage of the last year (365d)
                "uuid": "51aa8218-091d-4e3b-b24a-2464108f789c",
                "identifier": "1-0:1.8.0*99",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            },{
                // The usage since last reset
                "uuid": "3d9b86a1-b0d5-41c4-bf62-c3738f9f89f0",
                "identifier": "1-0:1.8.0*100",  // OBIS identifier
                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
//            },{
//                // The Serial number (doesn't work as raw values seem to be numbers only...
//                "uuid": "4d9064a0-3f6d-4433-89ad-b8427e0101dd",
//                "identifier": "1-0:96.1.0",  // OBIS identifier
//                "api": "null"                 // No volkszaehler API, only push through integrated httpd, push or mqtt
            }]
        }
    ]
}

